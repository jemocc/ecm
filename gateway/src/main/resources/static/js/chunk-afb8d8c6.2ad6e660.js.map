{"version":3,"sources":["webpack:///./src/components/LoginPage.vue","webpack:///./src/components/LoginPage.vue?ea6c","webpack:///./src/components/LoginPage.vue?0be2"],"names":["class","style","span","activeName","type","label","name","username","placeholder","suffix-icon","title","usernameErrorMsg","show-icon","closable","password","show-password","passwordErrorMsg","doLogin","loginResultMsg","loginResultType","closeLoginError","center","data","loginReqData","grant_type","client_id","client_secret","methods","this","console","log","then","res","dir","code","message","$store","commit","userInfoR","$router","push","watch","render","__scopeId"],"mappings":"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","file":"js/chunk-afb8d8c6.2ad6e660.js","sourcesContent":["<template>\r\n  <div class=\"login-box\">\r\n    <el-row>\r\n      <el-col :span=\"24\" class=\"top\">\r\n        <div class=\"line\">\r\n          <span>Login</span>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row class=\"login-bottom\">\r\n      <el-col :span=\"12\">\r\n        <div class=\"left\"></div>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <div class=\"right\">\r\n          <el-tabs v-model=\"activeName\" type=\"card\">\r\n            <el-tab-pane label=\"密码登录\" name=\"first\">\r\n              <div>\r\n                <el-input v-model=\"username\" placeholder=\"账号\" suffix-icon=\"el-icon-user\"></el-input>\r\n                <div style=\"height: 35px\">\r\n                  <el-alert v-show=\"usernameErrorMsg\" :title=\"usernameErrorMsg\" type=\"error\" show-icon :closable=\"false\" class=\"error-tip fl\"></el-alert>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <el-input v-model=\"password\" placeholder=\"密码\" show-password></el-input>\r\n                <div style=\"height: 35px\">\r\n                  <el-alert v-show=\"passwordErrorMsg\" :title=\"passwordErrorMsg\" type=\"error\" show-icon :closable=\"false\" class=\"error-tip fl\"></el-alert>\r\n                  <span class=\"tip fr\">忘记密码请联系管理员</span>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"短信登录\" name=\"second\">短信登录</el-tab-pane>\r\n          </el-tabs>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-button type=\"primary\" class=\"login-btn\" @click=\"doLogin\">登录</el-button>\r\n              <div style=\"height: 35px\">\r\n                <el-alert v-show=\"loginResultMsg\" :title=\"loginResultMsg\" :type=\"loginResultType\" show-icon @close=\"closeLoginError\" center></el-alert>\r\n              </div>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { doLogin, getUserInfo } from \"../ecm-api\";\r\nexport default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      activeName: \"first\",\r\n      username: \"user\",\r\n      password: \"111111\",\r\n      usernameErrorMsg: null,\r\n      passwordErrorMsg: null,\r\n      loginResultType: \"success\",\r\n      loginResultMsg: null,\r\n      loginReqData: {\r\n        grant_type: \"password\",\r\n        client_id: \"app\",\r\n        client_secret: \"app-secret\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    doLogin() {\r\n      this.loginReqData[\"username\"] = this.username;\r\n      this.loginReqData[\"password\"] = this.password;\r\n      console.log(this.loginReqData);\r\n      doLogin(this.loginReqData).then((res) => {\r\n        console.dir(res);\r\n        if (res.code) {\r\n          this.loginResultType = \"error\";\r\n          this.loginResultMsg = res.message;\r\n        } else {\r\n          this.loginResultType = \"success\";\r\n          this.loginResultMsg = \"登录成功\";\r\n          this.$store.commit(\"setToken\", res);\r\n          getUserInfo().then((userInfoR) => {\r\n            console.dir(userInfoR);\r\n            if (userInfoR.code == 0) {\r\n              this.$store.commit(\"setUserInfo\", userInfoR.data);\r\n              this.$router.push(\"/home\");\r\n            } else {\r\n              console.log(\"获取用户信息失败\");\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    closeLoginError() {\r\n      this.loginResultMsg = null;\r\n    },\r\n  },\r\n  watch: {\r\n    username() {\r\n      this.usernameErrorMsg = null;\r\n    },\r\n    password() {\r\n      this.passwordErrorMsg = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top .line {\r\n  height: 28px;\r\n  margin-bottom: 28px;\r\n}\r\n.top span {\r\n  font-size: 38px;\r\n  height: 56px;\r\n  line-height: 56px;\r\n  background-color: #fff;\r\n  padding: 0 20px;\r\n}\r\n.login-box {\r\n  max-width: 1000px;\r\n  margin: auto;\r\n}\r\n.line {\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n.left {\r\n  padding: 5px 35px;\r\n  height: inherit;\r\n}\r\n.right {\r\n  padding: 5px 35px;\r\n  border-left: 1px solid #ddd;\r\n}\r\n.login-btn {\r\n  padding: 0 40px;\r\n}\r\n.tip {\r\n  font-size: 12px;\r\n  color: #dcdfe6;\r\n  vertical-align: top;\r\n}\r\n.error-tip {\r\n  background: none;\r\n  width: fit-content;\r\n}\r\n</style>\r\n","import { render } from \"./LoginPage.vue?vue&type=template&id=5864f818&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=5864f818&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5864f818\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LoginPage.vue?vue&type=style&index=0&id=5864f818&scoped=true&lang=css\""],"sourceRoot":""}